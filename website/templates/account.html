{% extends "base.html" %}

{% block title %}
Account
{% endblock %}

{% block content %}
<style>
    body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
        color: #333;
    }
    
    #container {
        background: rgba(255, 255, 255, 0.7);
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        text-align: center;
        width: 94vw;
        height: 89vh;
        margin: 100px 50px;
        position: absolute;
        top: 0;
        left: 0;
        box-sizing: border-box;
        overflow-y: auto;
    }

    .profile-card {
        background: linear-gradient(135deg, #0056b3, #0094ff);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        text-align: left;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .user-info {
        font-size: 18px;
        margin: 8px 0;
        word-wrap: break-word;
    }

    .logout-btn {
        display: block;
        margin-top: 20px;
        padding: 12px 20px;
        background: linear-gradient(45deg, #dc3545, #ff6b6b);
        color: white;
        text-decoration: none;
        border-radius: 30px;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
    }
    
    .logout-btn:hover {
        background: linear-gradient(45deg, #c82333, #ff3b3b);
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }
</style>

<div id="container">
    <div class="profile-card">
        <h2>üë§ Account Information</h2>
        <p class="user-info">üìß Email: {{ user.email }}</p>
        <p class="user-info">üìù Name: {{ user.first_name }} {{ user.last_name or '' }}</p>
        <p class="user-info">üóÇÔ∏è Role: 
            {% if user.role == 'disabled' %}
                ‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô/‡∏™‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢
            {% elif user.role == 'employer' %}
                ‡∏ú‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á
            {% else %}
                {{ user.role }}
            {% endif %}
        </p>

        {% if user.role == 'disabled' %}
        <hr style="background:white; opacity:0.3;">
        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏Å‡∏≤‡∏£</h3>
        <p class="user-info"><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡∏Å‡∏≤‡∏£:</strong> {{ user.disability_type or '-' }}</p>
        <p class="user-info"><strong>‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏°‡∏µ:</strong> {{ user.skills or '-' }}</p>
        <p class="user-info"><strong>‡πÄ‡∏£‡∏ã‡∏π‡πÄ‡∏°‡πà (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°):</strong> <br> {{ user.resume_text or '-' }}</p>
        <p class="user-info"><strong>‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß:</strong> 
          {% if user.resume_video_url %}
            <a href="{{ user.resume_video_url }}" target="_blank" rel="noopener noreferrer">{{ user.resume_video_url }}</a>
          {% else %}
            -
          {% endif %}
        </p>
        <p class="user-info"><strong>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î):</strong> {{ user.location or '-' }}</p>
        <p class="user-info"><strong>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•:</strong> {{ user.digital_skill_level or '-' }}</p>
        <p class="user-info"><strong>‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ö‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß:</strong> {{ '‡πÉ‡∏ä‡πà' if user.training_completed else '‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà' }}</p>
        <h4>‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</h4>
        <ul class="list-group">
        {% for app in user.applications %}
            <li class="list-group-item">
            <strong>{{ app.job.title }}</strong> ‡∏ó‡∏µ‡πà {{ app.job.location }}
            <br>
            <a href="{{ url_for('views.chat', application_id=app.id) }}" class="btn btn-sm btn-outline-primary mt-2">‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á</a>
            </li>
        {% else %}
            <li class="list-group-item">‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏á‡∏≤‡∏ô‡πÉ‡∏î ‡πÜ</li>
        {% endfor %}
        </ul>

        {% elif user.role == 'employer' %}
        <hr style="background:white; opacity:0.3;">
        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á</h3>
        <p class="user-info"><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</strong> {{ user.company_name or '-' }}</p>
        <p class="user-info"><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</strong> {{ user.contact_person or '-' }}</p>
        <p class="user-info"><strong>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</strong> {{ user.contact_phone or '-' }}</p>
        <p class="user-info"><strong>‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</strong> {{ user.contact_email or '-' }}</p>
        <p class="user-info"><strong>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</strong> {{ user.address or '-' }}</p>
        <p class="user-info"><strong>‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</strong> 
          {% if user.company_website %}
            <a href="{{ user.company_website }}" target="_blank" rel="noopener noreferrer">{{ user.company_website }}</a>
          {% else %}
            -
          {% endif %}
        </p>
        <p class="user-info"><strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:</strong> <br> {{ user.company_description or '-' }}</p>
        <p class="user-info"><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô:</strong> {{ '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß' if user.verified_employer else '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô' }}</p>
        {% endif %}
    </div> 

    <a href="{{ url_for('views.edit_profile') }}" class="btn btn-info">‚úèÔ∏è Edit Profile</a>
    <a href="{{ url_for('auth.logout') }}" class="logout-btn">üö™ Logout</a>
</div>

{% endblock %}
