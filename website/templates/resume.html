<!-- templates/resume.html -->
{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>แบบฟอร์มข้อมูลส่วนตัวและทักษะ</h2>
    <p class="text-muted">กรุณากรอกข้อมูลให้ครบถ้วนเพื่อสร้างโปรไฟล์ที่สมบูรณ์</p>
    
    <form method="POST">
        
        <!-- ข้อมูลส่วนตัว -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">ข้อมูลส่วนตัว</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group mb-3">
                            <label for="first_name" class="form-label"><strong>ชื่อ:</strong></label>
                            <input type="text" class="form-control" id="first_name" name="first_name" value="{{ current_user.first_name or '' }}" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group mb-3">
                            <label for="last_name" class="form-label"><strong>นามสกุล:</strong></label>
                            <input type="text" class="form-control" id="last_name" name="last_name" value="{{ current_user.last_name or '' }}" required>
                        </div>
                    </div>
                </div>
                
                <div class="form-group mb-3">
                    <label for="birth_date" class="form-label"><strong>วัน/เดือน/ปีเกิด:</strong></label>
                    <input type="date" class="form-control" id="birth_date" name="birth_date" value="{{ current_user.birth_date or '' }}">
                    <small class="form-text text-muted">ข้อมูลนี้จะแสดงในหน้าโปรไฟล์</small>
                </div>
                
                <div class="form-group mb-3">
                    <label for="location" class="form-label"><strong>ที่อยู่ปัจจุบัน:</strong></label>
                    <textarea class="form-control" id="location" name="location" rows="2" placeholder="ที่อยู่ปัจจุบันเพื่อพิจารณาตำแหน่งงาน">{{ current_user.location or '' }}</textarea>
                </div>
            </div>
        </div>

        <!-- ข้อมูลด้านความพิการ -->
        <div class="card mb-4">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0">ข้อมูลด้านความพิการ</h4>
            </div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label for="disability_type" class="form-label"><strong>ประเภทความพิการ:</strong></label>
                    <select class="form-control" id="disability_type" name="disability_type" required>
                        <option value="">เลือกประเภทความพิการ</option>
                        <option value="ความพิการทางการมองเห็น" {% if current_user.disability_type == 'ความพิการทางการมองเห็น' %}selected{% endif %}>ความพิการทางการมองเห็น</option>
                        <option value="ความพิการทางการได้ยิน" {% if current_user.disability_type == 'ความพิการทางการได้ยิน' %}selected{% endif %}>ความพิการทางการได้ยิน</option>
                        <option value="ความพิการทางการเคลื่อนไหว" {% if current_user.disability_type == 'ความพิการทางการเคลื่อนไหว' %}selected{% endif %}>ความพิการทางการเคลื่อนไหว</option>
                        <option value="ความพิการทางสติปัญญา" {% if current_user.disability_type == 'ความพิการทางสติปัญญา' %}selected{% endif %}>ความพิการทางสติปัญญา</option>
                        <option value="ความพิการทางจิตใจ" {% if current_user.disability_type == 'ความพิการทางจิตใจ' %}selected{% endif %}>ความพิการทางจิตใจ</option>
                        <option value="ความพิการทางการเรียนรู้" {% if current_user.disability_type == 'ความพิการทางการเรียนรู้' %}selected{% endif %}>ความพิการทางการเรียนรู้</option>
                        <option value="ความพิการทางออทิสติก" {% if current_user.disability_type == 'ความพิการทางออทิสติก' %}selected{% endif %}>ความพิการทางออทิสติก</option>
                        <option value="อื่นๆ" {% if current_user.disability_type == 'อื่นๆ' %}selected{% endif %}>อื่นๆ</option>
                    </select>
                    <small class="form-text text-muted">เป็นทางการคัดสรองให้งาน, ทางสายอาชีพ, ทางการใช้อุปกรณ์</small>
                </div>
                
                <div class="form-group mb-3">
                    <label for="assistive_technology" class="form-label"><strong>อุปกรณ์ช่วยเหลือที่ใช้:</strong></label>
                    <textarea class="form-control" id="assistive_technology" name="assistive_technology" rows="2" placeholder="อุปกรณ์ที่ใช้ช่วยในการทำงาน เช่น แว่นตา เครื่องช่วยฟัง รถเข็น">{{ current_user.assistive_technology or '' }}</textarea>
                    <small class="form-text text-muted">อรุณเป็นอุปกรณ์หาครื่องหรืออื่นสำหรับงานนี้ให้น้อยนั่นด้วย</small>
                </div>
            </div>
        </div>

        <!-- ข้อมูลการสื่อสารและเหล่านี่โครงการปัจจัย -->
        <div class="card mb-4">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">ข้อมูลการสื่อสารและกรรมการปรับปรุงด้วยบ้านและห้าง</h4>
            </div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label class="form-label"><strong>สิ่งที่ต้องการความช่วยเหลือพิเศษ:</strong></label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="support_needs" value="ช่วยอาการใช้ซ่ำหาบัมปิโรหรับใครอื่น" id="support1">
                        <label class="form-check-label" for="support1">
                            ช่วยอาการใช้ซ่ำหาบัมปิโรหรับใครอื่น, ข้อกราฟตรวลรับ
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="support_needs" value="ช่วยหากำกึกหาจำหนากร้อม" id="support2">
                        <label class="form-check-label" for="support2">
                            ช่วยหากำกึกหาจำหนากร้อม, ท้องงาขงอร่มุการแปกการปอื่เกิด
                        </label>
                    </div>
                    <small class="form-text text-muted">เป็น, ข้อกำขมใช้พ่าห์มาเย่ที่ขขปิษยุนเหวไม่, ข้อการปรปจราสรียืนั่ยุด้วยใอง
ช่วงขทำ, ท้องงาฃาล็ปปการกกจำำหนากล้าง</small>
                </div>
            </div>
        </div>

        <!-- ข้อมูลการศึกษาและประสบการณ์ทำงาน -->
        <div class="card mb-4">
            <div class="card-header bg-warning text-dark">
                <h4 class="mb-0">ข้อมูลการศึกษาและประสบการณ์ทำงาน</h4>
            </div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label for="education" class="form-label"><strong>วุฒิการศึกษา:</strong></label>
                    <select class="form-control" id="education" name="education">
                        <option value="">เลือกระดับการศึกษา</option>
                        <option value="ประถมศึกษา" {% if current_user.education == 'ประถมศึกษา' %}selected{% endif %}>ประถมศึกษา</option>
                        <option value="มัธยมศึกษาตอนต้น" {% if current_user.education == 'มัธยมศึกษาตอนต้น' %}selected{% endif %}>มัธยมศึกษาตอนต้น</option>
                        <option value="มัธยมศึกษาตอนปลาย" {% if current_user.education == 'มัธยมศึกษาตอนปลาย' %}selected{% endif %}>มัธยมศึกษาตอนปลาย</option>
                        <option value="ปวช." {% if current_user.education == 'ปวช.' %}selected{% endif %}>ปวช.</option>
                        <option value="ปวส." {% if current_user.education == 'ปวส.' %}selected{% endif %}>ปวส.</option>
                        <option value="ปริญญาตรี" {% if current_user.education == 'ปริญญาตรี' %}selected{% endif %}>ปริญญาตรี</option>
                        <option value="ปริญญาโท" {% if current_user.education == 'ปริญญาโท' %}selected{% endif %}>ปริญญาโท</option>
                        <option value="ปริญญาเอก" {% if current_user.education == 'ปริญญาเอก' %}selected{% endif %}>ปริญญาเอก</option>
                    </select>
                    <small class="form-text text-muted">ระดับการศึกษาและสาขาวิชา</small>
                </div>
                
                <div class="form-group mb-3">
                    <label for="work_experience" class="form-label"><strong>ประสบการณ์ทำงาน:</strong></label>
                    <textarea class="form-control" id="work_experience" name="work_experience" rows="4" placeholder="ตำแหน่ง, ชื่อบริษัท, ระยะเวลา, หน้าที่ความรับผิดชอบ">{{ current_user.work_experience or '' }}</textarea>
                </div>
            </div>
        </div>

        <!-- ทักษะและความสามารถ -->
        <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
                <h4 class="mb-0">ทักษะและความสามารถ</h4>
            </div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label for="skills" class="form-label"><strong>ทักษะที่เกี่ยวข้องกับงาน:</strong></label>
                    <textarea class="form-control" id="skills" name="skills" rows="3" placeholder="เป็น การใช้โปรแกรมคอมพิวเตอร์, ภาษาต่างประเทศ, ทักษะเฉพาะทาง">{{ current_user.skills or '' }}</textarea>
                    <small class="form-text text-muted">เฉพาะทาง</small>
                </div>
                
                <div class="form-group mb-3">
                    <label for="digital_skill_level" class="form-label"><strong>ผลงาน (Portfolio):</strong></label>
                    <textarea class="form-control" id="portfolio" name="portfolio" rows="3" placeholder="หากมี อาจเขียนแนบให้ดูให้ตัวอย่างพึ่งให้ให้แผนผลหางคน">{{ current_user.portfolio or '' }}</textarea>
                </div>
                
                <div class="form-group mb-3">
                    <label for="digital_skill_level" class="form-label"><strong>ระดับทักษะดิจิทัล:</strong></label>
                    <select class="form-control" id="digital_skill_level" name="digital_skill_level" required>
                        <option value="">เลือกระดับทักษะ</option>
                        <option value="เริ่มต้น" {% if current_user.digital_skill_level == 'เริ่มต้น' %}selected{% endif %}>เริ่มต้น</option>
                        <option value="ปานกลาง" {% if current_user.digital_skill_level == 'ปานกลาง' %}selected{% endif %}>ปานกลาง</option>
                        <option value="ดี" {% if current_user.digital_skill_level == 'ดี' %}selected{% endif %}>ดี</option>
                        <option value="ดีมาก" {% if current_user.digital_skill_level == 'ดีมาก' %}selected{% endif %}>ดีมาก</option>
                        <option value="เชี่ยวชาญ" {% if current_user.digital_skill_level == 'เชี่ยวชาญ' %}selected{% endif %}>เชี่ยวชาญ</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- ข้อมูลเพิ่มเติม -->
        <div class="card mb-4">
            <div class="card-header bg-dark text-white">
                <h4 class="mb-0">ข้อมูลเพิ่มเติม</h4>
            </div>
            <div class="card-body">
                <div class="form-group mb-3">
                    <label class="form-label"><strong>ผ่านการฝึกอบรม:</strong></label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="training_completed" id="training_yes" value="true" {% if current_user.training_completed %}checked{% endif %}>
                        <label class="form-check-label" for="training_yes">
                            ใช่
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="training_completed" id="training_no" value="false" {% if not current_user.training_completed %}checked{% endif %}>
                        <label class="form-check-label" for="training_no">
                            ไม่ใช่
                        </label>
                    </div>
                </div>

                <div class="form-group mb-4">
                    <label for="resume_text" class="form-label"><strong>รายละเอียดเรซูเม่เพิ่มเติม:</strong></label>
                    <textarea class="form-control" id="resume_text" name="resume_text" rows="5" placeholder="กรุณาระบุรายละเอียดเรซูเม่ของคุณ เป้าหมายในการทำงาน หรือข้อมูลอื่นๆ ที่ต้องการแจ้ง">{{ current_user.resume_text or '' }}</textarea>
                </div>

                <div class="form-group mb-4">
                    <label for="resume_video_url" class="form-label"><strong>URL วิดีโอเรซูเม่:</strong></label>
                    <input type="url" class="form-control" id="resume_video_url" name="resume_video_url" value="{{ current_user.resume_video_url or '' }}" placeholder="https://www.youtube.com/embed/...">
                    <small class="form-text text-muted">กรุณาใส่ URL ของวิดีโอเรซูเม่ (ถ้ามี)</small>
                </div>
            </div>
        </div>

        <div class="text-center mb-4">
            <button type="submit" class="btn btn-success btn-lg px-5">บันทึกข้อมูล</button>
            <a href="{{ url_for('views.home') }}" class="btn btn-secondary btn-lg ml-3 px-5">ยกเลิก</a>
        </div>
    </form>

    {% if current_user.resume_video_url %}
        <div class="card mt-4">
            <div class="card-header">
                <h4>ตัวอย่างวิดีโอเรซูเม่</h4>
            </div>
            <div class="card-body">
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item" src="{{ current_user.resume_video_url }}" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<style>
.card {
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    border: none;
}

.card-header {
    border-bottom: 2px solid rgba(255,255,255,0.2);
}

.form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
}

.btn-lg {
    padding: 12px 30px;
    font-size: 18px;
}
</style>
{% endblock %}